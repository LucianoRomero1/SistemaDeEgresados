{% extends 'base.html.twig' %}

{% block title %}Ver Egresados{% endblock %}
{% block body %}
    {{parent()}}
    <div id="contenedor_carga">
        <div id="carga"></div>
        <h5 class="text-info text-center" style="margin-top: 32%">Cargando las titulaciones, por favor espere...</h5>
    </div>
    <div class="container-fluid">
        <div>
            <h3 class="text-center " style="color: #096066;">Titulaciones cargadas ({{egresados|length}})</h3>
        </div>
        <table id="tablaTitulaciones" class="table table-bordered" style="width:100%">
            <thead style="background-color:#0F9FA8;">
                <tr class="text-white">
                    <th> NÂº Registro </th>
                    <th> Apellido y nombre </th>
                    <th> DNI </th>
                    <th> Datos Egresado</th>
                    <th> Archivos </th>
                    <th> PDF </th>
                    <th> Eliminar </th>
                </tr>
            </thead>
            <tbody>
                {% for egresado in egresados %}
                <tr>
                    <th >{{egresado.id}}</th>
                    <td>{{egresado.apellido}} - {{egresado.nombre}}</td>
                    <td>{{egresado.dni}}</td>
                    <td style="text-align: center;">
                        <a class ="btn grow" href="{{path('modificarDatosPersonales', {'id': egresado.id})}}"><i class="fas fa-user-edit mb-3" data-toggle="tooltip" data-placement="left" data-html="true" title="Modificar datos personales" style = "font-size: 20px;color: #0F9FA8;"></i></a>
                        <a class ="btn grow" href="{{path('modificarDatosAcademicos', {'id': egresado.id})}}"><i class="fas fa-user-graduate mb-3"  data-toggle="tooltip" data-placement="bottom" data-html="true" title="Modificar datos academicos" style = "font-size: 20px;color: #0F9FA8;"></i></a>
                        <a class ="btn grow" href="{{path('modificarDatosAdministrativos', {'id': egresado.id})}}"><i class="fas fa-user-cog mb-3"  data-toggle="tooltip" data-placement="right" data-html="true" title="Modificar datos administrativos" style = "font-size: 20px; color: #0F9FA8;" ></i></a>
                    </td>
                    <td style="text-align: center;"><a class ="btn grow" href="{{path('modificarArchivos', {'id': egresado.id})}}"><i class="fas fa-file-alt mb-3"  data-toggle="tooltip" data-placement="right" data-html="true" title="Modificar archivos" style = "font-size: 20px; color: #FEB413;"></i></a></td>
                    <td style="text-align: center;"><a class ="btn grow" href="{{path('generatePdf', {'id': egresado.id})}}"><i class="fas fa-file-pdf mb-3"  data-toggle="tooltip" data-placement="right" data-html="true" title="Generar PDF" style = "font-size: 20px; color: #306086;"></i></a></td>
                    <td style="text-align: center;"><a class ="btn grow" onclick="DeleteFunction({{egresado.id}})"><i class=" fas fa-trash text-danger" style = "font-size: 20px;"></i></a></td>   
                </tr>
                {% endfor %}
            </tbody>
        </table>
    <div>
    <br>
{% endblock %}
{% block javascripts %}
    {{parent()}}
    <script src="https://cdn.datatables.net/1.10.25/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.25/js/dataTables.bootstrap4.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $('#tablaTitulaciones').DataTable({
                "language": {
                    "url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json"
                }
            });
        });
    </script>
    <script type="text/javascript">
        window.onload = function(){
            var contenedor = document.getElementById('contenedor_carga');
            contenedor.style.visibility = 'hidden';
            contenedor.style.opacity = '0'; 
        }
    </script>
  
{% endblock %}
